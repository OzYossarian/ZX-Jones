\section{Pivoting in the Qutrit ZX-Calculus}

Next we prove the pivot equality from Theorem~\ref{thm:local_pivot_equality}. We require the following: since $\qutritRuleEuler$ holds under taking adjoints, and swapping the roles of red and green, we have:

\begin{equation}\label{eq:qutrit_hadamard_decompositions}
	\tikzfig{qutrit_rules/hadamard/euler/h} \ = \ 
	\tikzfig{qutrit_rules/hadamard/euler/decomposition} \ = \ 
	\tikzfig{hadamard_lemmas/decompositions/h} ~~ ,
	\hspace{50pt} 
	\tikzfig{hadamard_lemmas/decompositions/h_dagger} \ = \
	\tikzfig{hadamard_lemmas/decompositions/h_dagger_xzx} \ = \ 
	\tikzfig{hadamard_lemmas/decompositions/h_dagger_zxz}
\end{equation}

\begin{theorem}\label{thm:local_pivot_equality_appendix} \textbf{/\ Theorem~\ref{thm:local_pivot_equality}.} 
	Given $a \in \mathbb{Z}_3$ and a graph state $(G, W)$ containing connected nodes $i$ and $j$, define the following:
	\begin{itemize}
		\item $N_{=}(i, j) \defeq \left\{k \in N(i) \cap N(j) \mid w_{k,i} = w_{k,j} \right\}$
		\item $N_{\neq}(i, j) \defeq \left\{k \in N(i) \cap N(j) \mid w_{k,i} \neq w_{k,j} \right\}$
	\end{itemize} 
	Then the following equation relates $G$ and its proper $a$-pivot along $ij$:
	\ctikzfig{graph_state/proper_local_pivot}
	\begin{proof}
		There are four cases ($a, w_{i,j} \in \{1,2\}$), which split into two pairs of symmetric cases: $a = w_{i,j}$ and $a \neq w_{i,j}$. We show just one case - the $1$-pivot along $ij$ of weight $1$ - the remaining cases being analogous. We again employ the !-notation. An asterisk \textcolor{red}{$*_a$} next to a spider means that at the next step an $a$-local complementation will be performed at this spider.

		\begingroup
			\allowdisplaybreaks
			\setlength{\jot}{20pt}
			\begin{alignat*}{2}
				&\ &&\tikzfig{proper_local_pivot/a_1/w_1/bang/1} \\
				&\xeq{\ref{thm:local_comp_equality}} 
				&&\tikzfig{proper_local_pivot/a_1/w_1/bang/2} \\
				&\xeq{\ref{thm:local_comp_equality}} 
				&&\tikzfig{proper_local_pivot/a_1/w_1/bang/3} \\
				&\xeq{\ref{thm:local_comp_equality}} 
				&&\tikzfig{proper_local_pivot/a_1/w_1/bang/4} \\
				&\xeqq{\eqref{eq:qutrit_hadamard_decompositions}}{\qutritRuleFusion} 
				&&\tikzfig{proper_local_pivot/a_1/w_1/bang/5}
			\end{alignat*}
		\endgroup

	\end{proof}
\end{theorem}